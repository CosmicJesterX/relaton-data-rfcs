---
id: RFC5658
title:
- type: main
  content: Addressing Record-Route Issues in the Session Initiation Protocol (SIP)
  format: text/plain
link:
- content: https://www.rfc-editor.org/info/rfc5658
  type: src
type: standard
docid:
- id: RFC 5658
  type: IETF
- id: RFC5658
  type: IETF
  scope: anchor
- id: 10.17487/RFC5658
  type: DOI
docnumber: RFC5658
date:
- type: published
  value: 2009-10
contributor:
- person:
    name:
      completename:
        content: T. Froment
        language:
        - en
        script:
        - Latn
  role:
  - author
- person:
    name:
      completename:
        content: C. Lebel
        language:
        - en
        script:
        - Latn
  role:
  - author
- person:
    name:
      completename:
        content: B. Bonnaerens
        language:
        - en
        script:
        - Latn
  role:
  - author
revdate: 2009-10
language:
- en
script:
- Latn
abstract:
- content: A typical function of a Session Initiation Protocol (SIP) Proxy is to insert
    a Record-Route header into initial, dialog-creating requests in order to make
    subsequent, in-dialog requests pass through it.  This header contains a SIP Uniform
    Resource Identifier (URI) or SIPS (secure SIP) URI indicating where and how the
    subsequent requests should be sent to reach the proxy.  These SIP or SIPS URIs
    can contain IPv4 or IPv6 addresses and URI parameters that could influence the
    routing such as the transport parameter (for example, transport=tcp), or a compression
    indication like "comp=sigcomp".  When a proxy has to change some of those parameters
    between its incoming and outgoing interfaces (multi-homed proxies, transport protocol
    switching, or IPv4 to IPv6 scenarios, etc.), the question arises on what should
    be put in Record-Route header(s).  It is not possible to make one header have
    the characteristics of both interfaces at the same time.  This document aims to
    clarify these scenarios and fix bugs already identified on this topic; it formally
    recommends the use of the double Record-Route technique as an alternative to the
    current RFC 3261 text, which describes only a Record-Route rewriting solution.
    [STANDARDS-TRACK]
  language:
  - en
  script:
  - Latn
  format: text/html
fetched: '2022-01-10'
keyword:
- multi-homed
- user agent
- proxy
- interoperability
- double record-routing
editorialgroup:
- name: sip
